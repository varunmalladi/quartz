---
title: "Localization of a ring"
---

# Idea
The localization of a ring $R$ at $U\subset R$ is a setting in which the elements of $U$ behave like [[Unit (ring)|units]], for example $r/u$ behaves like $ru^{-1}$.

The term localization is used somewhat confusingly in two different context. If we take the general definition to be the "correct" one, then localization at a prime ideal actually means localization _away_ from the prime ideal in the general definition. That is, letting $U=R/p$ (and $M=U$).

# Definition

## Traditional definition
### General case
Let $R$ be a ring, let $M$ be an $R$-module, and let $U\subset R$ be a multiplicatively closed subset.

**Definition.** The _localization_ of $M$ at $U$, written $M[U^{-1}]$ or $U^{-1}M$, is the set of equivalence classes $(m/u)=m/u$, where
$$
\frac{m}{u}=\frac{m'}{u'}\iff v(u'm-um')=0\in M
$$
for some $v\in U$.

### At a prime ideal
**Definition.** Suppose $p$ is a prime ideal of $R$. The _localization_ $R_p$ of $R$ at $p$ is a ring consisting of elements of the form $\frac{x}{y}$, $y\not\in p$ such that
$$
\frac{x}{y}=\frac{x_1}{y_1} \iff u(xy_1 - x_1 y)
$$
for some $u\notin p$. It follows that $(R_p, pR_p)$ is a local ring-maximal ideal pair.

**Definition.** The localization of an integral domain $R$ about the prime ideal generated by 0 is called the _field of fractions_ of $R$. It contains all other localizations of $R$.

## Categorical perspective
(todo)

# Properties
## Of localization
1. The field of fractions contains all other localizations
	- This is is due to the contravariant relationship between inclusions of prime ideals and inclusions of localizations: if $p\supset p_1$ then $R_p\subset R_{p_1}$.
2. The localization of a commutative ring at a prime ideal is a [[Local ring|local ring]].
3. Localization is functorial
4. Localization is an [[Exact functor|exact functor]], in the sense that it preserves exact sequences.
5. The prime ideals of $S^{-1}(A)$ are in one-to-one correspondence $(\mathfrak{p}\mapsto S^{-1}\mathfrak{p})$ with the prime ideals of $A$ which don't meet $S$.
	1. If $\mathfrak{p}$ is a prime ideal of $A$, the prime ideals of the local ring $A_\mathfrak{p}$ are in one-to-one correspondence with the prime ideals of $A$ contained in $\mathfrak{p}$.
6. $\mathfrak{p}^e = S^{-1}\mathfrak{p}$

### Proofs
#### 1 
We will prove that $S^{-1}R$ is a subring of $R_{(0)}$.

The sequence $$0\to R \to R_{(0)}$$ is exact. Thus the induced map $S^{-1}R\to S^{-1}R_{(0)}=R_{(0)}$ is injective.
#### 3
Let $u:M\to N$ be an $A$-module homomorphism. Then there is a natural map
$$
\begin{gather}
S^{-1}u:S^{-1}M\to S^{-1}N \\
\frac{m}{s}\mapsto \frac{u(m)}{s}.
\end{gather}
$$
Clearly given $v:N\to O$, we have
$$
S^{-1}(v\circ u)(\frac{m}{s}) = \frac{v(u(m))}{s} = (S^{-1}v\circ S^{-1}u)(m).
$$
#### 4
Let 
$$
0 \longrightarrow M_1 \overset{f}{\longrightarrow} M \overset{g}{\longrightarrow} M_2 \longrightarrow 0
$$
be an exact sequence. We need to show that 
$$
0 \longrightarrow S^{-1}M_1 \overset{S^{-1}f}{\longrightarrow} S^{-1}M \overset{S^{-1}g}{\longrightarrow} S^{-1}M_2 \longrightarrow 0
$$
is an exact sequence. Since $g\circ f=0$ and localization is functorial, we have $S^{-1}(g)\circ S^{-1}(f) = S^{-1}(g\circ f)=0$. This shows that $\text{im}(f)\subseteq\text{ker}(g)$. Conversely, suppose $\frac{m}{s}\in \text{ker}(S^{-1}g)$. Then $S^{-1}g(\frac{m}{s}) = \frac{g(m)}{s}=0$. By definition this means there exists $s'\in S$ such that $$s'(g(m)-0) = s'g(m)=g(s'm)=0.$$ (The last equality is because $g$ is an $A$-module homomorphism.) Since by assumption $\text{ker}g=\text{im}f$, there exists $m_1\in M_1$ such that $f(m_1)=s'm$. So $$\frac{m}{s}=\frac{f(m_1)}{ss'}=S^{-1}f(\frac{m}{ss'}),$$ which shows that $\frac{m}{s}\in\text{im}S^{-1}f$. Hence $\text{im}S^{-1}f=\text{ker}S^{-1}g$, which shows exactness.

The converse is not true without additional assumptions. For example, what we have just proven is that if the original sequence is exact then the localized sequence is exact for arbitrary $S$. But it could be the case that the localized sequence at one $S$ is exact while the localized sequence at another $S'$ is not exact. Then it cannot be the case that the original sequence was exact.
#### 5
Let $\mathfrak{q}$ be prime ideal in $S^{-1}A$. Then $\mathfrak{q}^c$ is a prime ideal in $A$ by the properties of [[Extension and contraction of a ring|contraction]]. 

Conversely, let $\mathfrak{p}$ be a prime ideal in $A$. Then $A/\mathfrak{p}$ is an integral domain. Let $\bar{S}$ be the image of $S$ under the natural quotient map $A\to A/\mathfrak{p}$. Then $S^{-1}A/S^{-1}\mathfrak{p}\cong \bar{S}^{-1}(A/\mathfrak{p})$. By (1) this is a subring of the field of fractions, hence in particular either 0 or an integral domain. In the latter case, this implies $S^{-1}\mathfrak{p}$ is a prime ideal in $S^{-1}A$. In the former case, this implies $S^{-1}\mathfrak{p}=S^{-1}A$. But then (Extended..., Property 1)  implies that $(S^{-1}\mathfrak{p})^{ce}=S^{-1}A$. This only happens when $s\in (S^{-1}\mathfrak{p})^c$ for some $s\in S$. Hence $\mathfrak{p}$ contains elements of $S$, which contradicts our assumptions.
## Local properties
Let $\phi:M\to N$ be an $A$-module homomorphism.

1. TFAE
	1. $\phi$ is injective
	2. $\phi_\mathfrak{p}:M_p\to N_p$ is injective for every prime ideal $\mathfrak{p}$

### Proofs
#### 1
(1 => 2) The sequence $0\to M\to N$ is exact by assumption. Since localization is an expact functor, this implies $0\to M_\mathfrak{p}\to N_\mathfrak{p}$ is exact, in particular $\phi_\mathfrak{p}$ is injective.

## Extended and contracted ideals
1. Every ideal in $S^{-1}A$ is an extended ideal.

### Proofs
#### 1
Let $\mathfrak{b}$ be an ideal in $S^{-1}A$ with element $\frac{x}{s}\in\mathfrak{b}$. Then $\frac{s}{1}\cdot {x}{s} = \frac{x}{1}\in\mathfrak{B}$, so $x\in \mathfrak{b}^c$. Then $\frac{x}{s}\in \mathfrak{b}^{ce}$. Thus $\mathfrak{b}\subseteq \mathfrak{b}^{ce}$. The reverse inclusion is obvious.


